(()=>{"use strict";function e(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,l,s=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){i=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw l}}return s}}(e,o)||function(e,o){if(e){if("string"==typeof e)return t(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,o):void 0}}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const l=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";o(this,t);var i=document.createElement(l);i.className=s,"object Object"===a?i.append(a):i.innerHTML=a,n&&(n===document.body?n.prepend(i):n.append(i));for(var r=arguments.length,c=new Array(r>4?r-4:0),f=4;f<r;f++)c[f-4]=arguments[f];c.length&&c.forEach((function(t){var o=e(t,2),n=o[0],l=o[1];""===l&&i.setAttribute(n,""),n.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck/)?i.setAttribute(n,l):i.dataset[n]=l})),this.node=i}var l,s;return l=t,(s=[{key:"destroy",value:function(){this.node.remove()}}])&&n(l.prototype,s),Object.defineProperty(l,"prototype",{writable:!1}),t}(),s={ru:[{small:"Caps Lock",shift:null,code:"CapsLock"},{small:"ё",shift:"Ё",code:"Backquote"},{small:"1",shift:"!",code:"Digit1"},{small:"2",shift:'"',code:"Digit2"},{small:"3",shift:"№",code:"Digit3"},{small:"4",shift:";",code:"Digit4"},{small:"5",shift:"%",code:"Digit5"},{small:"6",shift:":",code:"Digit6"},{small:"7",shift:"?",code:"Digit7"},{small:"8",shift:"*",code:"Digit8"},{small:"9",shift:"(",code:"Digit9"},{small:"0",shift:")",code:"Digit0"},{small:"-",shift:"_",code:"Minus"},{small:"=",shift:"+",code:"Equal"},{small:"Backspace",shift:null,code:"Backspace"},{small:"Del",shift:null,code:"Delete"},{small:"Tab ↹",shift:null,code:"Tab"},{small:"й",shift:"Й",code:"KeyQ"},{small:"ц",shift:"Ц",code:"KeyW"},{small:"у",shift:"У",code:"KeyE"},{small:"к",shift:"К",code:"KeyR"},{small:"е",shift:"Е",code:"KeyT"},{small:"н",shift:"Н",code:"KeyY"},{small:"г",shift:"Г",code:"KeyU"},{small:"ш",shift:"Ш",code:"KeyI"},{small:"щ",shift:"Щ",code:"KeyO"},{small:"з",shift:"З",code:"KeyP"},{small:"х",shift:"Х",code:"BracketLeft"},{small:"ъ",shift:"Ъ",code:"BracketRight"},{small:"Enter",shift:null,code:"Enter"},{small:"Caps Lock",shift:null,code:"CapsLock"},{small:"ф",shift:"Ф",code:"KeyA"},{small:"ы",shift:"Ы",code:"KeyS"},{small:"в",shift:"В",code:"KeyD"},{small:"а",shift:"А",code:"KeyF"},{small:"п",shift:"П",code:"KeyG"},{small:"р",shift:"Р",code:"KeyH"},{small:"о",shift:"О",code:"KeyJ"},{small:"л",shift:"Л",code:"KeyK"},{small:"д",shift:"Д",code:"KeyL"},{small:"ж",shift:"Ж",code:"Semicolon"},{small:"э",shift:"Э",code:"Quote"},{small:"\\",shift:"/",code:"Backslash"},{small:"Shift",shift:null,code:"ShiftLeft"},{small:"/",shift:"|",code:"IntlBackslash"},{small:"я",shift:"Я",code:"KeyZ"},{small:"ч",shift:"Ч",code:"KeyX"},{small:"с",shift:"С",code:"KeyC"},{small:"м",shift:"М",code:"KeyV"},{small:"и",shift:"И",code:"KeyB"},{small:"т",shift:"Т",code:"KeyN"},{small:"ь",shift:"Ь",code:"KeyM"},{small:"б",shift:"Б",code:"Comma"},{small:"ю",shift:"Ю",code:"Period"},{small:".",shift:",",code:"Slash"},{small:"Shift",shift:null,code:"ShiftRight"},{small:"Ctrl",shift:null,code:"ControlLeft"},{small:"⊞",shift:null,code:"MetaLeft"},{small:"Alt",shift:null,code:"AltLeft"},{small:" ",shift:null,code:"Space"},{small:"Alt",shift:null,code:"AltRight"},{small:"▤",shift:null,code:"ContextMenu"},{small:"Ctrl",shift:null,code:"ControlRight"},{small:"&larr;",shift:null,code:"ArrowLeft"},{small:"&uarr;",shift:null,code:"ArrowUp"},{small:"&darr;",shift:null,code:"ArrowDown"},{small:"&rarr;",shift:null,code:"ArrowRight"}],en:[{small:"`",shift:"~",code:"Backquote"},{small:"1",shift:"!",code:"Digit1"},{small:"2",shift:"@",code:"Digit2"},{small:"3",shift:"#",code:"Digit3"},{small:"4",shift:"$",code:"Digit4"},{small:"5",shift:"%",code:"Digit5"},{small:"6",shift:"^",code:"Digit6"},{small:"7",shift:"&",code:"Digit7"},{small:"8",shift:"*",code:"Digit8"},{small:"9",shift:"(",code:"Digit9"},{small:"0",shift:")",code:"Digit0"},{small:"-",shift:"_",code:"Minus"},{small:"=",shift:"+",code:"Equal"},{small:"Backspace",shift:null,code:"Backspace"},{small:"Del",shift:null,code:"Delete"},{small:"Tab ↹",shift:null,code:"Tab"},{small:"q",shift:"Q",code:"KeyQ"},{small:"w",shift:"W",code:"KeyW"},{small:"e",shift:"E",code:"KeyE"},{small:"r",shift:"R",code:"KeyR"},{small:"t",shift:"T",code:"KeyT"},{small:"y",shift:"Y",code:"KeyY"},{small:"u",shift:"U",code:"KeyU"},{small:"i",shift:"I",code:"KeyI"},{small:"o",shift:"O",code:"KeyO"},{small:"p",shift:"P",code:"KeyP"},{small:"[",shift:"{",code:"BracketLeft"},{small:"]",shift:"}",code:"BracketRight"},{small:"Enter",shift:null,code:"Enter"},{small:"Caps Lock",shift:null,code:"CapsLock"},{small:"a",shift:"A",code:"KeyA"},{small:"s",shift:"S",code:"KeyS"},{small:"d",shift:"D",code:"KeyD"},{small:"f",shift:"F",code:"KeyF"},{small:"g",shift:"G",code:"KeyG"},{small:"h",shift:"H",code:"KeyH"},{small:"j",shift:"J",code:"KeyJ"},{small:"k",shift:"K",code:"KeyK"},{small:"l",shift:"L",code:"KeyL"},{small:";",shift:":",code:"Semicolon"},{small:"'",shift:'"',code:"Quote"},{small:"\\",shift:"|",code:"Backslash"},{small:"Shift",shift:null,code:"ShiftLeft"},{small:"<",shift:">",code:"IntlBackslash"},{small:"z",shift:"Z",code:"KeyZ"},{small:"x",shift:"X",code:"KeyX"},{small:"c",shift:"C",code:"KeyC"},{small:"v",shift:"V",code:"KeyV"},{small:"b",shift:"B",code:"KeyB"},{small:"n",shift:"N",code:"KeyN"},{small:"m",shift:"M",code:"KeyM"},{small:",",shift:"<",code:"Comma"},{small:".",shift:">",code:"Period"},{small:"/",shift:"?",code:"Slash"},{small:"Shift",shift:null,code:"ShiftRight"},{small:"Ctrl",shift:null,code:"ControlLeft"},{small:"⊞",shift:null,code:"MetaLeft"},{small:"Alt",shift:null,code:"AltLeft"},{small:" ",shift:null,code:"Space"},{small:"Alt",shift:null,code:"AltRight"},{small:"▤",shift:null,code:"ContextMenu"},{small:"Ctrl",shift:null,code:"ControlRight"},{small:"&larr;",shift:null,code:"ArrowLeft"},{small:"&uarr;",shift:null,code:"ArrowUp"},{small:"&darr;",shift:null,code:"ArrowDown"},{small:"&rarr;",shift:null,code:"ArrowRight"}]},a="l8CkofVxkwWCMnRRyzzf",i="JkH9d3mmHFKi8HRupvWM",r="N6stnBy0voqTIC8J6l6P",c="jZh6X_x40NNl_b_hl1ek";function f(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,o){return t&&f(e.prototype,t),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}const d=h((function e(t,o){var n=o.small,s=o.shift,a=o.code;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=a,this.small=n,this.shift=s,this.isFnKey=Boolean(n.match(/Ctrl|arr|Alt|Shift|Tab|Back|Del|Enter|Caps/)),this.button=new l(t,"div",i,"",["code",this.code],this.isFnKey?["fn","true"]:["fn","false"]),this.isFnKey&&this.button.node.classList.add("EqWIFAXV7eS3HQzkpCAB"),this.char=new l(this.button.node,"div","k3SCwsxYVb1cKKa8k5HA",this.small),s&&s.match(/[^a-zA-Zа-яА-ЯёЁ0-9]/)?this.sub=new l(this.button.node,"div",r,this.shift):this.sub=new l(this.button.node,"div",r)}));function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(h,e);var t,o,n,r,f=(n=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(n);if(r){var o=g(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return p(this,e)});function h(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),v(K(o=f.call(this,e,"main","CJiD02AxoGQj2poNZXoJ")),"mouseHandleEvent",(function(e){e.stopPropagation();var t=e.target.closest(".".concat(i));if(t){var n=t.dataset.code;t.addEventListener("mouseleave",o.resetButtonState),o.handleEvent({code:n,type:e.type})}})),v(K(o),"handleEvent",(function(e){var t=e.code,n=e.type,l=o.keyButtons.find((function(e){return e.code===t}));if(l)if(o.textarea.node.focus(),n.match(/keydown|mousedown/)){if(n.match(/mouse/)||e.preventDefault(),t.match(/Shift/)&&(o.shiftKey=!0),o.shiftKey&&o.switchUpperCase(!0),t.match(/Control|Alt|Caps/)&&e.repeat)return;t.match(/Control/)&&(o.ctrKey=!0),t.match(/Alt/)&&(o.altKey=!0),o.ctrKey&&o.shiftKey&&o.switchLanguage(),l.button.node.classList.add(c),t.match(/Caps/)&&!o.isCaps?(o.isCaps=!0,o.switchUpperCase(!0)):t.match(/Caps/)&&o.isCaps&&(o.isCaps=!1,o.switchUpperCase(!1),l.button.node.classList.remove(c)),o.isCaps?o.isCaps&&(o.shiftKey?o.print(l,l.sub.node.innerHTML?l.shift:l.small):o.print(l,l.sub.node.innerHTML?l.small:l.shift)):o.print(l,o.shiftKey?l.shift:l.small),o.keyPressed[l.code]=l}else n.match(/keyup|mouseup/)&&(o.resetPressedButton(t),t.match(/Shift/)&&(o.shiftKey=!1,o.switchUpperCase(!1)),t.match(/Control/)&&(o.ctrKey=!1),t.match(/Alt/)&&(o.altKey=!1),t.match(/Caps/)||l.button.node.classList.remove(c))})),v(K(o),"resetButtonState",(function(e){var t=e.target.dataset.code;t.match(/Shift/)&&(o.shiftKey=!1,o.switchUpperCase(!1),o.keyPressed[t].button.node.classList.remove(c)),t.match(/Control/)&&(o.ctrKey=!1),t.match(/Alt/)&&(o.altKey=!1),o.resetPressedButton(t),o.textarea.node.focus()})),v(K(o),"resetPressedButton",(function(e){o.keyPressed[e]&&(o.isCaps||o.keyPressed[e].button.node.classList.remove(c),o.keyPressed[e].button.node.removeEventListener("mouseleave",o.resetButtonState),delete o.keyPressed[e])})),v(K(o),"switchUpperCase",(function(e){e?o.keyButtons.forEach((function(e){e.isFnKey||!o.isCaps||o.shiftKey||e.sub.node.innerHTML?!e.isFnKey&&o.isCaps&&o.shiftKey?e.char.node.innerHTML=e.small:e.isFnKey||e.sub.node.innerHTML||("MetaLeft"===e.code||"ContextMenu"===e.code?e.char.node.innerHTML=e.small:e.char.node.innerHTML=e.shift):"MetaLeft"===e.code||"ContextMenu"===e.code?e.char.node.innerHTML=e.small:e.char.node.innerHTML=e.shift})):o.keyButtons.forEach((function(e){e.sub.node.innerHTML&&!e.isFnKey?o.isCaps||o.shiftKey?o.isCaps&&!o.shiftKey&&(e.char.node.innerHTML=e.shift):e.char.node.innerHTML=e.small:e.isFnKey||(o.isCaps?e.char.node.innerHTML=e.shift:e.char.node.innerHTML=e.small)}))})),v(K(o),"switchLanguage",(function(){var e,t=Object.keys(s).find((function(e){return e!==o.keyBoardWrapper.node.dataset.language}));o.keyBase=s[t],o.keyBoardWrapper.node.dataset.language=t,e=t,window.localStorage.setItem("keyboardLang",JSON.stringify(e)),o.keyButtons.forEach((function(e){var t=o.keyBase.find((function(t){return t.code===e.code}));t&&(e.shift=t.shift,e.small=t.small,t.shift&&t.shift.match(/[^a-zA-Zа-яА-ЯёЁ0-9]/g)?e.sub.node.innerHTML=t.shift:e.sub.node.innerHTML="",e.char.node.innerHTML=t.small)})),o.isCaps&&o.switchUpperCase(!0)})),v(K(o),"print",(function(e,t){var n=o.textarea.node.selectionStart,l=o.textarea.node.value.slice(0,n),s=o.textarea.node.value.slice(n),a={Tab:function(){o.textarea.node.value="".concat(l,"\t").concat(s),n+=1},ArrowLeft:function(){n=n-1>=0?n-1:0},ArrowRight:function(){n+=1},ArrowUp:function(){var e=o.textarea.node.value.slice(0,n).match(/(\n).*$(?!\1)/g)||[[1]];n-=e[0].length},ArrowDown:function(){var e=o.textarea.node.value.slice(n).match(/^.*(\n).*(?!\1)/)||[[1]];n+=e[0].length},Enter:function(){o.textarea.node.value="".concat(l,"\n").concat(s),n+=1},Delete:function(){o.textarea.node.value="".concat(l).concat(s.slice(1))},Backspace:function(){o.textarea.node.value="".concat(l.slice(0,-1)).concat(s),n-=1},Space:function(){o.textarea.node.value="".concat(l," ").concat(s),n+=1}};a[e.code]?a[e.code]():e.isFnKey||(n+=1,o.textarea.node.value="".concat(l).concat(t||"").concat(s)),o.textarea.node.setSelectionRange(n,n)})),o.keyBase=s[t],o.container=new l(o.node,"div","PS5W5euXVx59twZZGCi3"),o.title=new l(o.container.node,"h1","mJaV3r7Qvu4aGhGD7gBR","RSS Virtual Keyboard"),o.operationSystem=new l(o.container.node,"p",a,"Created on Windows"),o.swithLanguageCombination=new l(o.container.node,"p",a,"Press Ctrl + Shift to switch language"),o.textarea=new l(o.container.node,"textarea","GcQ09rMS75po3ugiLCsH","",["rows",5],["cols",50],["spellcheck",!0],["autocorrect","on"],["placeholder","start typing!"]),o.keyBoardWrapper=new l(o.container.node,"div","woJMz7ZGAiLj7K7Tdyfg","",["language",t]),o.keyPressed={},o.isCaps=!1,o}return t=h,(o=[{key:"generateKeyboard",value:function(e){var t=this;this.keyButtons=[],this.rowsOrder=e.forEach((function(e){var o=new l(t.keyBoardWrapper.node,"div","Fv6sY2e9UNjaOnZcWqY5");e.forEach((function(e){var n=t.keyBase.find((function(t){return t.code===e}));if(n){var l=new d(o.node,n);t.keyButtons.push(l)}}))})),window.addEventListener("keydown",this.handleEvent),window.addEventListener("keyup",this.handleEvent),this.keyBoardWrapper.node.onmousedown=this.mouseHandleEvent,this.keyBoardWrapper.node.onmouseup=this.mouseHandleEvent}}])&&m(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),h}(l);var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return JSON.parse(window.localStorage.getItem(e)||t)}("keyboardLang",'"en"');new b(document.body,w).generateKeyboard([["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ShiftRight","ArrowUp","Delete"],["ControlLeft","MetaLeft","AltLeft","Space","AltRight","ContextMenu","ControlRight","ArrowLeft","ArrowDown","ArrowRight"]])})();